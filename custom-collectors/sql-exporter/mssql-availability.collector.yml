# This collector will be referenced in the exporter configuration as `mssql-availability`
collector_name: mssql-availability

# Individual metrics to be retrieved by the collector
metrics:
  # Prometheus metric to indicate whether any database exists
  # Static value parameter to set value if query does not return anything
  - metric_name: mssql_database_exists
    type: gauge
    help: "Indicates whether any database exists."
    static_value: 1
    query: |
      IF EXISTS (SELECT name FROM sys.databases)
      SELECT 1
        ELSE
      SELECT 0

  # Prometheus metric to indicate the total number of items in the Inventory table
  - metric_name: total_inventory_items
    type: gauge
    help: "Total number of items in the Inventory table."
    query: |
      USE InventoryDB;
      SELECT COUNT(*) AS total_inventory_items FROM Inventory
